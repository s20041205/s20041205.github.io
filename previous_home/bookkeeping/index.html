<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	
	<title>2022記帳</title>
	
</head>
<body>
	<header></header>
	<section id="form">
		<div class="container">
			<div class="row">
				<div class="col-md-8">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#">記帳</a></li>
						<li class="breadcrumb-item active" aria-current="page">v2.0.0</li>
						</ol>
					</nav>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6 offset-md-1 text-left">
					<div class="row">
						<form name="submit-to-google-sheet">
							<input name="Date" type="date" id="fdate" required>
							<input name="Balance" type="text" placeholder="Income/ Outcome">
							<input name="Topclass" type="text" placeholder="Category">
							<input name="Subclass" type="text" placeholder="Sub-Category">
							<input name="Price" type="number" placeholder="Price">
							<input name="Detail" type="text" placeholder="Detail">
							<input name="Name" type="text" placeholder="Name">
							<!--<input name="Update" type="text" placeholder="Time">-->
							<button type="submit">Send</button>
						</form>
					</div>
				</div>
			</div>
			<script>
				var today = new Date();
				var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
				var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
				var dateTime = date+' '+time;
				document.getElementById("fdate").valueAsDate = today;

				//[Section submit to google sheet]
				/*//implement url
				const scriptURL = 'https://script.google.com/macros/s/AKfycbxOZyPupkM8WF1nMu4PlMEBLdjJSpNu_7zupR5P4kVbcDU7PMyomxLmjQzn7QFO2rJb/exec'*/
				//url for test
				const scriptURL = 'https://script.google.com/macros/s/AKfycbzdt_vhicpfz1zyCmRfbN4bzLWbUW9g9kKS48rQ3Arkfjtp6yw2xY4SQBmKQBALBGnN/exec'
				const form = document.forms['submit-to-google-sheet']
			
				form.addEventListener('submit', e => {
					e.preventDefault()
					fetch(scriptURL, { method: 'POST', body: new FormData(form)})
					.then(response => console.log('Success!', response))
					.catch(error => console.error('Error!', error.message))
				})
			</script>

		</div>
	</section>
</body>
</html>
